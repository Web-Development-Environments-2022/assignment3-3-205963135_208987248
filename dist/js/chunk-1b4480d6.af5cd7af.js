(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b4480d6"],{1276:function(e,t,r){"use strict";var n=r("d784"),s=r("44e7"),a=r("825a"),i=r("1d80"),o=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),p=r("9263"),d=r("d039"),f=[].push,g=Math.min,h=4294967295,v=!d((function(){return!RegExp(h,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(i(this)),a=void 0===r?h:r>>>0;if(0===a)return[];if(void 0===e)return[n];if(!s(e))return t.call(n,e,a);var o,c,l,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,v=new RegExp(e.source,d+"g");while(o=p.call(v,n)){if(c=v.lastIndex,c>g&&(u.push(n.slice(g,o.index)),o.length>1&&o.index<n.length&&f.apply(u,o.slice(1)),l=o[0].length,g=c,u.length>=a))break;v.lastIndex===o.index&&v.lastIndex++}return g===n.length?!l&&v.test("")||u.push(""):u.push(n.slice(g)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var s=i(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,s,r):n.call(String(s),t,r)},function(e,s){var i=r(n,e,this,s,n!==t);if(i.done)return i.value;var p=a(e),d=String(this),f=o(p,RegExp),m=p.unicode,x=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(v?"y":"g"),b=new f(v?p:"^(?:"+p.source+")",x),w=void 0===s?h:s>>>0;if(0===w)return[];if(0===d.length)return null===u(b,d)?[d]:[];var R=0,I=0,S=[];while(I<d.length){b.lastIndex=v?I:0;var E,y=u(b,v?d:d.slice(I));if(null===y||(E=g(l(b.lastIndex+(v?0:I)),d.length))===R)I=c(d,I,m);else{if(S.push(d.slice(R,I)),S.length===w)return S;for(var _=1;_<=y.length-1;_++)if(S.push(y[_]),S.length===w)return S;I=R=E}}return S.push(d.slice(R)),S}]}),!v)},"14c3":function(e,t,r){var n=r("c6b6"),s=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var a=r.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},6547:function(e,t,r){var n=r("a691"),s=r("1d80"),a=function(e){return function(t,r){var a,i,o=String(s(t)),c=n(r),l=o.length;return c<0||c>=l?e?"":void 0:(a=o.charCodeAt(c),a<55296||a>56319||c+1===l||(i=o.charCodeAt(c+1))<56320||i>57343?e?o.charAt(c):a:e?o.slice(c,c+2):i-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},"67e2":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"meal"},[r("h1",{staticClass:"title"},[e._v("Your Meal")]),r("div",{staticClass:"div-buttons"},[r("b-button",{staticClass:"all_btn_meal",attrs:{pill:"",variant:"warning"},on:{click:e.reorderMealRecipes}},[e._v("Reorder Meal Recipes")]),r("b-button",{staticClass:"all_btn_meal",attrs:{pill:"",variant:"warning"},on:{click:e.clearAllRecipes}},[e._v("Clear All Recipes")])],1),r("b-container",{staticClass:"p-4 all_recipes",attrs:{fluid:""}},e._l(this.recipes,(function(t,n){return r("b-row",{key:n,staticClass:"row"},[r("div",{staticClass:"recipe-container"},[r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:t,id:t.id,title:t.title,readyInMinutes:t.readyInMinutes,image:t.image,aggregateLikes:t.popularity,isFavorite:t.isFavorite,isLastseen:t.isLastseen,index:n+1}}),r("div",{staticClass:"dowm-buttons-div"},[r("b-button",{staticClass:"down-buttons",attrs:{pill:"",variant:"danger"},on:{click:function(){return e.deleteFromMeal(t)}}},[e._v("Delete From Meal")]),r("b-button",{staticClass:"down-buttons",attrs:{pill:"",variant:"success"}},[r("span",[e._v("Progress: "),r("strong",[e._v(e._s(e.progressBarDataDone[t.id])+" / "+e._s(e.progressBarDataTotal[t.id]))])])])],1)],1)])})),1),r("b-modal",{attrs:{id:"my-modal"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[r("h4",[e._v(" Please enter the new recipes order by stating there there numbers with commas between them: ")]),r("b-form",{attrs:{inline:""},on:{submit:e.onSubmit}},[r("b-form-group",{staticClass:"recipe_name",attrs:{id:"title",label:"New Recipes Order: ","label-for":"newOrderTitle"}},[r("b-form-input",{staticClass:"orderInput",attrs:{id:"newOrderTitle",placeholder:"Enter the new recipes order",required:""},model:{value:e.newOrder,callback:function(t){e.newOrder=t},expression:"newOrder"}})],1),r("b-button",{staticClass:"mx-auto w-100 submit",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",pill:"",variant:"dark"}},[e._v("Submit")])],1)],1)],1)},s=[],a=(r("4160"),r("0d03"),r("d3b7"),r("e25e"),r("ac1f"),r("25f0"),r("1276"),r("159b"),r("96cf"),r("1da1")),i=r("832a"),o={name:"MealPage",components:{RecipePreview:i["a"]},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateMeal();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},data:function(){return{progressBarDataTotal:{},progressBarDataDone:{},value:0,max:1,recipes:[],showModal:!1,newOrder:""}},methods:{updateMeal:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=JSON.parse(sessionStorage.getItem("mealRecipes")),r.forEach((function(t){e.recipes.push(JSON.parse(JSON.stringify(t)))})),n=JSON.parse(sessionStorage.getItem("mealRecipesInstructionLength")),void 0!=n&&n.forEach((function(t){e.progressBarDataTotal[t.recipeId.toString()]=t.numberOfInstructions,e.progressBarDataDone[t.recipeId.toString()]=0})),s=JSON.parse(sessionStorage.getItem("curInstructions")),void 0!=s&&s.forEach((function(t){e.progressBarDataDone[t.recipeId.toString()]=t.finishedInstructions}));case 6:case"end":return t.stop()}}),t)})))()},deleteFromMeal:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,s,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.$root.store.server_domain="https://dm-recipes.cs.bgu.ac.il:443",n=[],s=0,a=[],t.recipes.forEach((function(t){t.id!=e.id&&(n.push({recipeId:t.id,orderRecipe:s}),s++,a.push(t))})),r.next=8,t.axios.post(t.$root.store.server_domain+"/recipes/deletemeal",{recipeId:e.id,userName:t.$root.store.username,recipesAndOrderList:n});case 8:return r.sent,r.next=11,t.axios.post(t.$root.store.server_domain+"/recipes/meal",{userName:t.$root.store.username});case 11:i=r.sent,sessionStorage.setItem("recipesInMeal",JSON.stringify(i.data.length)),sessionStorage.setItem("mealRecipesInstructionLength",JSON.stringify(i.data)),sessionStorage.setItem("mealRecipes",JSON.stringify(a)),t.recipes=a,r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](0),console.log(r.t0);case 21:case"end":return r.stop()}}),r,null,[[0,18]])})))()},reorderMealRecipes:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showModal=!0;case 1:case"end":return t.stop()}}),t)})))()},onSubmit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$root.store.server_domain="https://dm-recipes.cs.bgu.ac.il:443",e.showModal=!1,r=e.newOrder.split(","),n=[],r.forEach((function(e){var t=parseInt(e);isNaN(t)?alert("Please enter numbers only!"):n.push(t)})),s=[],a=0,i=[],n.forEach((function(t){s.push({recipeId:e.recipes[t-1].id,orderRecipe:a}),a++,i.push(e.recipes[t-1])})),t.next=12,e.axios.post(e.$root.store.server_domain+"/recipes/changemealorder",{userName:e.$root.store.username,recipesAndOrderList:s});case 12:o=t.sent,"Meal order was updated successfully"==o.data&&(e.recipes=i,sessionStorage.setItem("mealRecipes",JSON.stringify(i))),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()},clearAllRecipes:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$root.store.server_domain="https://dm-recipes.cs.bgu.ac.il:443",t.next=3,e.axios.post(e.$root.store.server_domain+"/recipes/deletemealrecipes",{userName:e.$root.store.username});case 3:return t.sent,t.next=6,e.axios.post(e.$root.store.server_domain+"/recipes/meal",{userName:e.$root.store.username});case 6:r=t.sent,sessionStorage.setItem("recipesInMeal",JSON.stringify(r.data.length)),sessionStorage.setItem("mealRecipesInstructionLength",JSON.stringify(r.data)),sessionStorage.setItem("mealRecipes",JSON.stringify([])),e.recipes=[];case 11:case"end":return t.stop()}}),t)})))()}}},c=o,l=(r("7829"),r("2877")),u=Object(l["a"])(c,n,s,!1,null,null,null);t["default"]=u.exports},7829:function(e,t,r){"use strict";var n=r("bd20"),s=r.n(n);s.a},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9263:function(e,t,r){"use strict";var n=r("ad6d"),s=r("9f7f"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,c=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],p=c||u||l;p&&(o=function(e){var t,r,s,o,p=this,d=l&&p.sticky,f=n.call(p),g=p.source,h=0,v=e;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(e).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==e[p.lastIndex-1])&&(g="(?: "+g+")",v=" "+v,h++),r=new RegExp("^(?:"+g+")",f)),u&&(r=new RegExp("^"+g+"$(?!\\s)",f)),c&&(t=p.lastIndex),s=a.call(d?r:p,v),d?s?(s.input=s.input.slice(h),s[0]=s[0].slice(h),s.index=p.lastIndex,p.lastIndex+=s[0].length):p.lastIndex=0:c&&s&&(p.lastIndex=p.global?s.index+s[0].length:t),u&&s&&s.length>1&&i.call(s[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s}),e.exports=o},"9f7f":function(e,t,r){"use strict";var n=r("d039");function s(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,r){"use strict";var n=r("23e7"),s=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},bd20:function(e,t,r){},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),s=r("d039"),a=r("b622"),i=r("9263"),o=r("9112"),c=a("species"),l=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),p=a("replace"),d=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),f=!s((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,p){var g=a(e),h=!s((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),v=h&&!s((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return t=!0,null},r[g](""),!t}));if(!h||!v||"replace"===e&&(!l||!u||d)||"split"===e&&!f){var m=/./[g],x=r(g,""[e],(function(e,t,r,n,s){return t.exec===i?h&&!s?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=x[0],w=x[1];n(String.prototype,e,b),n(RegExp.prototype,g,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}p&&o(RegExp.prototype[g],"sham",!0)}}}]);
//# sourceMappingURL=chunk-1b4480d6.af5cd7af.js.map